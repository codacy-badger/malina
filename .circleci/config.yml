version: 2

jobs:
  build:
    docker:
      - image: "debian:stretch"
    steps:
      - checkout
      - run:
          name: Installing SUDO
          command: 'apt-get update && apt-get install -y sudo && rm -rf /var/lib/apt/lists/*'
      - run:
          name: Installing clang
          command: 'apt-get update && apt-get install -y gcc clang'
      - run:
          name: Install CMAKE GIT
          command: 'apt-get update && sudo apt-get install -y cmake git'
      - run:
          name: submodule init
          command: 'git submodule init && git submodule update --recursive --remote'
      - run:
          name: submodule update
          command: 'git submodule update --recursive --remote'
      - run:
          name: ls
          command: 'ls'
      - run:
          name: go to koko
          command: 'cd koko/'
      - run:
          name: ls
          command: 'ls'
      - run:
          name: Creating Build Files
          command: 'cmake -Bkoko/ -Hkoko/'
      - run:
          name: ls
          command: 'ls'
      - run:
          name: Creating Binary Files
          command: 'make -C koko/'
      - run:
          name: ls
          command: 'ls koko/'
      - run:
          name: permision
          command: 'sudo chmod +x koko/koko'
      - run:
          name: runt
          command: './koko/koko'
          
      - run:
          name: Creating Build Files
          command: 'cmake -BiDom_server_OOP/test/iDom_TESTs-CMAKE/ -HiDom_server_OOP/test/iDom_TESTs-CMAKE/'
      - run:
          name: ls
          command: 'ls iDom_server_OOP/test/iDom_TESTs-CMAKE/'
      - run:
          name: Creating Binary Files
          command: 'make -C iDom_server_OOP/test/iDom_TESTs-CMAKE/'
      - run:
          name: ls
          command: 'ls iDom_server_OOP/test/iDom_TESTs-CMAKE/'
      - run:
          name: permision
          command: 'sudo chmod +x iDom_server_OOP/test/iDom_TESTs-CMAKE/iDom_TESTs-CMAKE'
      - run:
          name: runt
          command: './iDom_server_OOP/test/iDom_TESTs-CMAKE/iDom_TESTs-CMAKE'
